# K380 Function Keys Manager

<div align="center">

ä¸€ä¸ªä¸“ä¸ºç½—æŠ€ K380 è“ç‰™é”®ç›˜è®¾è®¡çš„ Fn é”®è¡Œä¸ºç®¡ç†å·¥å…·ï¼Œè®©æ‚¨è½»æ¾æ§åˆ¶ F1-F12 é”®çš„é»˜è®¤è¡Œä¸ºã€‚

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![macOS](https://img.shields.io/badge/macOS-supported-green.svg)]()
[![Electron](https://img.shields.io/badge/Electron-latest-blue.svg)]()

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å®‰è£…ä½¿ç”¨](#-å®‰è£…ä½¿ç”¨) â€¢ [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—) â€¢ [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

</div>

## ğŸ“‹ é¡¹ç›®ä»‹ç»

K380 Function Keys Manager æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ macOS åº”ç”¨ç¨‹åºï¼Œä¸“é—¨è§£å†³ç½—æŠ€ K380 è“ç‰™é”®ç›˜çš„ Fn é”®ä½¿ç”¨ä½“éªŒé—®é¢˜ã€‚é€šè¿‡è¿™ä¸ªå·¥å…·ï¼Œæ‚¨å¯ä»¥ï¼š

- **ğŸ¯ è‡ªç”±åˆ‡æ¢** F1-F12 é”®çš„é»˜è®¤è¡Œä¸ºï¼ˆåª’ä½“åŠŸèƒ½ â†” æ ‡å‡†åŠŸèƒ½é”®ï¼‰
- **ğŸ”„ å®æ—¶ç”Ÿæ•ˆ** è®¾ç½®ç«‹å³åº”ç”¨ï¼Œæ— éœ€é‡æ–°è¿æ¥é”®ç›˜
- **âš¡ è‡ªåŠ¨åŒ–ç®¡ç†** è“ç‰™è¿æ¥æ£€æµ‹ä¸è‡ªåŠ¨åº”ç”¨è®¾ç½®
- **ğŸ›¡ï¸ å®‰å…¨ä¾¿æ·** æ™ºèƒ½å¯†ç ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¾“å…¥

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ›ï¸ æ ¸å¿ƒåŠŸèƒ½
- **Fn é”®è¡Œä¸ºåˆ‡æ¢**ï¼šåœ¨åª’ä½“é”®å’Œæ ‡å‡†åŠŸèƒ½é”®ä¹‹é—´è‡ªç”±åˆ‡æ¢
- **å®æ—¶è¿æ¥æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹ K380 è“ç‰™è¿æ¥çŠ¶æ€
- **æ™ºèƒ½è‡ªåŠ¨åº”ç”¨**ï¼šè®¾å¤‡è¿æ¥æ—¶è‡ªåŠ¨åº”ç”¨é¢„è®¾é…ç½®

### ğŸ”§ ç³»ç»Ÿé›†æˆ
- **ç³»ç»Ÿæ‰˜ç›˜é›†æˆ**ï¼šæœ€å°åŒ–åˆ°æ‰˜ç›˜ï¼Œå³é”®å¿«é€Ÿæ“ä½œ
- **å¼€æœºè‡ªå¯åŠ¨**ï¼šæ”¯æŒ macOS å¼€æœºè‡ªå¯åŠ¨ï¼ˆæ­£å¼ç‰ˆæœ¬ï¼‰
- **GUI ç•Œé¢**ï¼šç°ä»£åŒ–çš„å¤šæ ‡ç­¾é¡µè®¾ç½®ç•Œé¢

### ğŸ’¡ æ™ºèƒ½ç‰¹æ€§
- **å¯†ç ç¼“å­˜æœºåˆ¶**ï¼š
  - ğŸ• å¯é…ç½®ç¼“å­˜æ—¶é—´ï¼ˆ1åˆ†é’Ÿ - æ°¸ä¸è¿‡æœŸï¼‰
  - ğŸ” æŒä¹…åŒ–åŠ å¯†å­˜å‚¨ï¼ˆå¯é€‰ï¼‰
  - ğŸš¨ é”™è¯¯æ—¶è‡ªåŠ¨æ¸…é™¤ç¼“å­˜
- **æƒé™æ™ºèƒ½æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶æŒ‡å¯¼æƒé™è®¾ç½®
- **åŒé‡å›¾æ ‡æ˜¾ç¤º**ï¼šæ”¯æŒ Dock å›¾æ ‡å’Œæ‰˜ç›˜å›¾æ ‡çš„ç‹¬ç«‹æ§åˆ¶

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **å¤šè¯­è¨€ç•Œé¢**ï¼šå®Œæ•´çš„ä¸­æ–‡æœ¬åœ°åŒ–
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **å®æ—¶åé¦ˆ**ï¼šæ“ä½œçŠ¶æ€å®æ—¶æ˜¾ç¤º
- **é”®ç›˜å¿«æ·é”®**ï¼šæ”¯æŒ Cmd+1/2/3/4 å¿«é€Ÿåˆ‡æ¢æ ‡ç­¾é¡µ

## ğŸš€ å®‰è£…ä½¿ç”¨

### æ–¹å¼ä¸€ï¼šä¸‹è½½å‘å¸ƒç‰ˆæœ¬ï¼ˆæ¨èï¼‰

1. å‰å¾€ [Releases é¡µé¢](https://github.com/XiaoDcs/k380-function-keys-manager/releases)
2. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ `.dmg` æ–‡ä»¶
3. åŒå‡»å®‰è£…ï¼Œæ‹–æ‹½åˆ° Applications æ–‡ä»¶å¤¹
4. é¦–æ¬¡å¯åŠ¨æŒ‰ç…§æƒé™è®¾ç½®æŒ‡å—æ“ä½œ

### æ–¹å¼äºŒï¼šä»æºç æ„å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/XiaoDcs/k380-function-keys-manager.git
cd k380-function-keys-manager

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶
chmod +x scripts/build_binaries.sh
./scripts/build_binaries.sh

# æ„å»ºåº”ç”¨ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
npm run dev

# æˆ–æ„å»ºæ­£å¼ç‰ˆæœ¬
npm run build
```

### ğŸ” æƒé™è®¾ç½®

é¦–æ¬¡ä½¿ç”¨éœ€è¦æˆäºˆè¾“å…¥ç›‘æ§æƒé™ï¼š

#### åŸºæœ¬è®¾ç½®æ­¥éª¤

1. æ‰“å¼€ `ç³»ç»Ÿè®¾ç½®` â†’ `éšç§ä¸å®‰å…¨æ€§` â†’ `è¾“å…¥ç›‘æ§`
2. ç‚¹å‡» `+` æ·»åŠ åº”ç”¨
3. é€‰æ‹©å·²å®‰è£…çš„ `K380 Function Keys Manager.app`
4. ç¡®ä¿åº”ç”¨å·²å‹¾é€‰
5. é‡å¯åº”ç”¨ç”Ÿæ•ˆ

#### ğŸ“¦ æ‰“åŒ…ç‰ˆæœ¬ç‰¹åˆ«è¯´æ˜

å¦‚æœä½¿ç”¨ä» Releases ä¸‹è½½çš„æ‰“åŒ…ç‰ˆæœ¬ï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„å®‰å…¨è®¾ç½®ï¼š

**ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼š**
1. å³é”®ç‚¹å‡»åº”ç”¨ï¼Œé€‰æ‹©"æ‰“å¼€"è€Œä¸æ˜¯åŒå‡»
2. åœ¨å®‰å…¨æç¤ºä¸­ç‚¹å‡»"æ‰“å¼€"
3. å¦‚æœæç¤º"æ— æ³•éªŒè¯å¼€å‘è€…"ï¼Œåˆ°`ç³»ç»Ÿè®¾ç½®` â†’ `éšç§ä¸å®‰å…¨æ€§`ä¸­ç‚¹å‡»"ä»è¦æ‰“å¼€"

**å¦‚æœé‡åˆ° "K380 not found" é”™è¯¯ï¼š**

è¿è¡Œæƒé™ä¿®å¤è„šæœ¬ï¼š
```bash
# ä¸‹è½½å¹¶è¿è¡Œæƒé™ä¿®å¤è„šæœ¬
curl -O https://raw.githubusercontent.com/XiaoDcs/k380-function-keys-manager/main/scripts/fix_app_permissions.sh
chmod +x fix_app_permissions.sh
./fix_app_permissions.sh
```

æˆ–æ‰‹åŠ¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```bash
# æ¸…é™¤éš”ç¦»å±æ€§
sudo xattr -dr com.apple.quarantine "/Applications/K380 Function Keys Manager.app"

# é‡æ–°ç­¾ååº”ç”¨
sudo codesign --force --deep --sign - "/Applications/K380 Function Keys Manager.app"
```

#### ğŸ” æƒé™é—®é¢˜è¯Šæ–­

åº”ç”¨å†…ç½®äº†æƒé™æ£€æŸ¥å·¥å…·ï¼š
1. æ‰“å¼€åº”ç”¨ â†’ `å·¥å…·` æ ‡ç­¾é¡µ
2. ç‚¹å‡» `æ£€æŸ¥æƒé™` æŒ‰é’®
3. æ ¹æ®æ£€æŸ¥ç»“æœè¿›è¡Œç›¸åº”æ“ä½œ

**å¸¸è§æƒé™çŠ¶æ€ï¼š**
- âœ… **æƒé™æ­£å¸¸** - å¯ä»¥ç›´æ¥ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½
- âš ï¸ **éœ€è¦å¯†ç ** - åŠŸèƒ½æ­£å¸¸ï¼Œä½¿ç”¨æ—¶éœ€è¦è¾“å…¥ç®¡ç†å‘˜å¯†ç 
- âŒ **æƒé™ç¼ºå¤±** - éœ€è¦åœ¨ç³»ç»Ÿè®¾ç½®ä¸­æ·»åŠ æƒé™
- âš ï¸ **è®¾å¤‡æœªæ‰¾åˆ°** - æ£€æŸ¥ K380 è“ç‰™è¿æ¥çŠ¶æ€

#### ğŸš¨ æ•…éšœæ’é™¤

**é—®é¢˜ï¼šè®¾ç½®åä»æ˜¾ç¤ºæƒé™é”™è¯¯**
- å®Œå…¨é€€å‡ºåº”ç”¨å¹¶é‡æ–°å¯åŠ¨
- å°è¯•é‡å¯ç³»ç»Ÿ
- åœ¨æƒé™åˆ—è¡¨ä¸­åˆ é™¤åº”ç”¨åé‡æ–°æ·»åŠ 

**é—®é¢˜ï¼šK380 å·²è¿æ¥ä½†æç¤ºè®¾å¤‡æœªæ‰¾åˆ°**  
- æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–åº”ç”¨å ç”¨ K380
- å°è¯•æ–­å¼€å¹¶é‡æ–°è¿æ¥ K380
- é‡å¯è“ç‰™æœåŠ¡ï¼š`sudo pkill bluetoothd`

**é—®é¢˜ï¼šæ‰“åŒ…ç‰ˆæœ¬æ— æ³•è¿è¡Œ**
- è¿è¡Œä¸Šè¿°æƒé™ä¿®å¤è„šæœ¬
- ç¡®ä¿ä»å¯ä¿¡æ¥æºä¸‹è½½åº”ç”¨
- æ£€æŸ¥ macOS ç‰ˆæœ¬å…¼å®¹æ€§ï¼ˆéœ€è¦ 10.15+ï¼‰

> **æç¤º**ï¼šåº”ç”¨ä¼šè‡ªåŠ¨æ£€æµ‹æƒé™çŠ¶æ€å¹¶æä¾›è¯¦ç»†çš„è®¾ç½®æŒ‡å¯¼

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œ

1. **å¿«é€Ÿåˆ‡æ¢**ï¼šç‚¹å‡»æ‰˜ç›˜å›¾æ ‡ï¼Œé€‰æ‹©"å¯ç”¨ Fn é”®ç›´æ¥è®¿é—®"
2. **GUI æ“ä½œ**ï¼šåŒå‡»æ‰˜ç›˜å›¾æ ‡æ‰“å¼€è®¾ç½®ç•Œé¢
3. **è‡ªåŠ¨åŒ–**ï¼šå¯ç”¨"è‡ªåŠ¨åº”ç”¨è®¾ç½®"ï¼Œè¿æ¥æ—¶è‡ªåŠ¨é…ç½®

### ç•Œé¢è¯´æ˜

- **ä¸»è¦åŠŸèƒ½**ï¼šè¿æ¥çŠ¶æ€ã€Fn é”®åˆ‡æ¢ã€ç«‹å³åº”ç”¨
- **è®¾ç½®**ï¼šå¼€æœºè‡ªå¯åŠ¨ã€çª—å£æ˜¾ç¤ºã€è‡ªåŠ¨åº”ç”¨ã€å¯†ç ç¼“å­˜
- **å·¥å…·**ï¼šæƒé™æ£€æŸ¥ã€ç³»ç»Ÿè®¾ç½®å¿«æ·æ–¹å¼
- **å…³äº**ï¼šç‰ˆæœ¬ä¿¡æ¯ã€é¡¹ç›®é“¾æ¥

### å¯†ç ç¼“å­˜é…ç½®

æ”¯æŒå¤šç§ç¼“å­˜ç­–ç•¥ï¼š
- **1åˆ†é’Ÿ**ï¼šé€‚åˆå®‰å…¨æ•æ„Ÿç¯å¢ƒ
- **5åˆ†é’Ÿ**ï¼šæ¨èçš„å¹³è¡¡é€‰æ‹©
- **15-30åˆ†é’Ÿ**ï¼šé€‚åˆé¢‘ç¹ä½¿ç”¨
- **æ°¸ä¸è¿‡æœŸ**ï¼šæœ€å¤§ä¾¿åˆ©æ€§
- **æŒä¹…åŒ–å­˜å‚¨**ï¼šé‡å¯åä¿æŒç¼“å­˜ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒ

```bash
# ä¾èµ–è¦æ±‚
node >= 16.0.0
npm >= 8.0.0
macOS >= 10.15

# å®‰è£…å¼€å‘ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è°ƒè¯•æ¨¡å¼
npm run debug
```

### é¡¹ç›®ç»“æ„

```
k380-function-keys-manager/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ main.js            # Electron ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ renderer.js        # æ¸²æŸ“è¿›ç¨‹
â”‚   â””â”€â”€ renderer.html      # UI ç•Œé¢
â”œâ”€â”€ bin/                   # äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â”œâ”€â”€ k380_improved      # K380 æ§åˆ¶ç¨‹åº
â”‚   â””â”€â”€ test_hid          # æƒé™æµ‹è¯•ç¨‹åº
â”œâ”€â”€ scripts/              # æ„å»ºè„šæœ¬
â”œâ”€â”€ assets/               # é™æ€èµ„æº
â”œâ”€â”€ docs/                # æ–‡æ¡£
â””â”€â”€ build/               # æ„å»ºé…ç½®
```

### æ„å»ºæµç¨‹

```bash
# 1. æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶
./scripts/build_binaries.sh

# 2. æ„å»º Electron åº”ç”¨
npm run build

# 3. è¾“å‡ºåˆ° dist/ ç›®å½•
ls dist/
```

### API æ–‡æ¡£

ä¸»è¦ç±»å’Œæ–¹æ³•ï¼š

- `K380Manager`: æ ¸å¿ƒç®¡ç†ç±»
  - `executeK380Command(mode)`: æ‰§è¡Œ K380 å‘½ä»¤
  - `checkK380Connection()`: æ£€æŸ¥è¿æ¥çŠ¶æ€
  - `updatePasswordCache(password)`: æ›´æ–°å¯†ç ç¼“å­˜

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒ [å¼€å‘æ–‡æ¡£](docs/)

## ğŸ”§ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **Electron**: è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- **Node.js**: åç«¯é€»è¾‘å’Œç³»ç»Ÿè°ƒç”¨
- **HID API**: ä½çº§ç¡¬ä»¶æ¥å£è®¿é—®
- **Auto Launch**: macOS å¼€æœºè‡ªå¯åŠ¨é›†æˆ

### å…³é”®ç»„ä»¶
- **è“ç‰™ç›‘æ§**: å®æ—¶æ£€æµ‹ K380 è¿æ¥çŠ¶æ€
- **æƒé™ç®¡ç†**: HID è®¿é—®æƒé™æ£€æµ‹å’ŒæŒ‡å¯¼
- **å¯†ç ç¼“å­˜**: å®‰å…¨çš„ç®¡ç†å‘˜å¯†ç ç¼“å­˜æœºåˆ¶
- **è®¾ç½®æŒä¹…åŒ–**: åŸºäº Electron Store çš„é…ç½®ç®¡ç†

## ğŸ“š å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼Ÿ
A: ä¿®æ”¹ K380 çš„ç¡¬ä»¶è®¾ç½®éœ€è¦è®¿é—® HID è®¾å¤‡ï¼Œè¿™éœ€è¦ç³»ç»Ÿçº§æƒé™ã€‚

### Q: å¯†ç ç¼“å­˜å®‰å…¨å—ï¼Ÿ
A: æ˜¯çš„ã€‚å¯†ç ä½¿ç”¨ AES-256-CBC åŠ å¯†å­˜å‚¨ï¼Œå¹¶ä¸”ä¼šå®šæœŸæ¸…ç†å’Œè¿‡æœŸã€‚

### Q: æ”¯æŒå…¶ä»–ç½—æŠ€é”®ç›˜å—ï¼Ÿ
A: ç›®å‰ä¸“é—¨ä¸º K380 ä¼˜åŒ–ï¼Œå…¶ä»–å‹å·å¯èƒ½éœ€è¦é€‚é…ã€‚

### Q: å¼€å‘æ¨¡å¼ä¸‹å¼€æœºè‡ªå¯åŠ¨å¤±è´¥ï¼Ÿ
A: è¿™æ˜¯æ­£å¸¸ç°è±¡ã€‚è¯·æ„å»ºæ­£å¼ç‰ˆæœ¬æ¥ä½¿ç”¨å¼€æœºè‡ªå¯åŠ¨åŠŸèƒ½ã€‚

### Q: å¦‚ä½•å®Œå…¨å¸è½½ï¼Ÿ
A: åˆ é™¤åº”ç”¨ï¼Œå¹¶æ¸…ç† `~/Library/Preferences/` ä¸­çš„é…ç½®æ–‡ä»¶ã€‚

æ›´å¤šé—®é¢˜è¯·æŸ¥çœ‹ [FAQ æ–‡æ¡£](docs/FAQ.md) æˆ–æäº¤ Issueã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- éµå¾ª JavaScript Standard Style
- æäº¤ä¿¡æ¯ä½¿ç”¨è‹±æ–‡ï¼Œæ ¼å¼æ¸…æ™°

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº GPL-3.0 åè®®å¼€æºã€‚è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- ç½—æŠ€å®˜æ–¹æä¾›çš„ç¡¬ä»¶è§„æ ¼æ–‡æ¡£
- Electron ç¤¾åŒºçš„ä¼˜ç§€å·¥å…·å’Œæ’ä»¶
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„åé¦ˆ

## ğŸ“ è”ç³»æ”¯æŒ

- **Issues**: [GitHub Issues](https://github.com/XiaoDcs/k380-function-keys-manager/issues)
- **Discussions**: [GitHub Discussions](https://github.com/XiaoDcs/k380-function-keys-manager/discussions)
- **Email**: [your-email@example.com](mailto:your-email@example.com)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™ä¸ª â­ï¸ Starï¼**

Made with â¤ï¸ for K380 users

</div> 